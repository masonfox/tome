# Tome v0.5.0 - Shelves, Read Next Queue, DNF

**Release Date:** February 4, 2026

This release brings powerful shelf management features, a drag-and-drop Read Next queue, DNF (Did Not Finish) status tracking, and significant improvements to Calibre sync reliability. We've also added an activity calendar, mobile pull-to-refresh, and numerous quality-of-life enhancements.

## ‚ú® What's New

### üìï Did Not Finish (DNF) Status

Track books you decided not to finish - because not every book is for everyone! This feature recognizes that sometimes you start a book and it's just not the right fit - and that's okay!

### üìö Goodreads-Style Shelf Management

Organize your books into custom shelves (collections) with powerful bulk operations!

**What you can do:**
- **Create custom shelves** - Make shelves for any purpose (e.g., "Beach Reads", "Technical Books")
- **Bulk operations** - Move, copy, or delete multiple books at once
- **Shelf icons** - Choose from accessible icons with WCAG-compliant colors
- **Add to shelves** - Add books individually or in bulk from the library
- **Sort and filter** - Sort shelf contents by various criteria
- **Add to top** - Option to add new books to the top of a shelf

All shelf management is local to Tome and doesn't affect your Calibre library.

### üìñ Read Next Queue with Drag-and-Drop

Organize your reading queue exactly how you want it!

**Features:**
- **Drag-and-drop ordering** - Reorder books on desktop and mobile
- **Mobile optimized** - Touch-friendly drag-and-drop on all devices
- **Persistent order** - Your queue order is saved automatically

**How to use it:**
1. Navigate to the Read Next status filter in your library
2. Drag books up or down to reorder them
3. Your reading queue is now perfectly organized!

### üìÖ GitHub-Style Activity Calendar

Visualize your reading activity at a glance!

**Features:**
- **Year-at-a-glance view** - See your reading patterns over the year
- **Heatmap visualization** - Darker colors indicate more reading
- **Daily page counts** - Hover to see pages read each day
- **Streak page integration** - View on the new enhanced streak analytics page
- **Responsive design** - Works great on mobile and desktop

Access it from the Stats section to see your reading habits visualized!

### üì± Pull-to-Refresh for Mobile PWA

Native app feel for mobile PWA users!

**What you get:**
- **Pull down to refresh** - Works on all major pages (Library, Dashboard, etc.)
- **Native animations** - Smooth, familiar refresh gesture
- **Visual feedback** - Clear loading indicator
- **PWA optimized** - Perfect for home screen installations

### üè∑Ô∏è Books Without Tags Filter

Easily find untagged books in your library!

**Features:**
- **New filter option** - "Books Without Tags" in library filters
- **Quick identification** - Find books that need categorization
- **Bulk tagging** - Select and tag multiple books at once
- **Clean organization** - Keep your library well-organized

### üîÑ Calibre Sync Improvements

Major reliability improvements for Calibre integration!

**What's better:**
- **Calibre 9.x compatibility** - Full support for Calibre 9.x with WAL mode
- **Database lock handling** - Automatic retry logic prevents sync failures
- **Backup support** - Automatic Calibre database backups before startup operations. Can be found in your `data/backups/` directory.
- **Folder-based backup retention** - Keep up to 6 backups, properly organized
- **Book Cover Cache busting** - Book covers refresh immediately after Calibre sync
- **Force data refresh** - Ensures UI updates after sync operations
- **Better error messages** - Clear context when database locks occur

## üêõ Notable Bug Fixes

### Date & Timezone Handling
- **Fixed intermittent streak reset bug** due to date type mismatch (#279)
- **Fixed timezone display** in Journal component (#245)
- **Fixed timezone handling** in streak analytics date range calculation
- **Enhanced date validation** with calendar-aware validation (#334)

### Calibre Integration
- **Fixed Calibre 9.x database lock errors** with proper WAL mode support (#330)
- **Optimized Calibre sync** for large libraries (#221)
- **Fixed orphaned books** preventing sync operations (#222)

## üé® Visual & UX Improvements

- **Rounded corners on tag pills** in library filters
- **Reordered library status filter** dropdown options for better usability
- **Enhanced Goals page UI** with monthly filtering and improved layout (#319)
- **Darker timezone input background** for better visibility
- **Accessible shelf icons** with WCAG-compliant contrast ratios (#291)

## üì¶ Installation

### Docker (Recommended)

```bash
# Pull the latest release
docker pull ghcr.io/masonfox/tome:0.5.0

# Or use latest tag
docker pull ghcr.io/masonfox/tome:latest
```

**‚ö†Ô∏è PUID/PGID Configuration:**

Tome now supports `PUID` and `PGID` environment variables to run the container as a specific user/group. This is especially important for proper file permissions when mounting volumes.

**We recommend explicitly setting these values:**

```bash
docker run -d \
  -e PUID=1000 \
  -e PGID=1000 \
  -v /path/to/data:/data \
  -v /path/to/calibre:/calibre \
  -p 3000:3000 \
  ghcr.io/masonfox/tome:0.5.0
```

To find your PUID and PGID, run: `id` in your terminal. This ensures Tome has proper permissions to access your Calibre library and write to the data directory.

## üîÑ Upgrading

**From v0.4.x to v0.5.0:**

‚úÖ **Fully automatic** - just pull and restart!

- All migrations run automatically on startup
- Existing data is fully preserved
- New features are available immediately
- No configuration changes needed

Database backups are created automatically, so you can safely downgrade if needed.

## üîß Technical Improvements

### Architecture
- **Next.js 16 & React 19 upgrade** - Latest framework features and performance
- **Consolidated Dockerfile** with runtime demo mode (#298)
- **Improved seeding** for demo data and shelf initialization

### Developer Experience
- **Enhanced documentation** for Calibre 9.x compatibility
- **Better error context** in Calibre lock error messages
- **Improved backup logic** with folder-based retention
- **Cache busting mechanisms** for book covers

### Performance
- **Optimized large library sync** - Faster Calibre sync for libraries with thousands of books
- **Improved cache invalidation** - Smarter data refresh across the app
- **Better query efficiency** - Reduced unnecessary data fetching

## üìä By the Numbers

- **302 commits** since v0.4.0
- **88,700 lines added**
- **9,782 lines deleted**
- **Major features:** DNF Status, Shelves, Read Next Queue, Activity Calendar
- **Calibre 9.x support** added
- **50+ bug fixes and improvements**

## üôè Thank You

Special thanks to everyone who reported bugs, suggested features, and tested pre-release builds. This release wouldn't be possible without your feedback and patience!

Huge appreciation to the Calibre project for the excellent library management foundation, and the open source community for the amazing tools and libraries that power Tome.

## üìù Full Changelog

For a complete list of all changes, see the [full PR #301](https://github.com/masonfox/tome/pull/301) or the [commit history](https://github.com/masonfox/tome/compare/v0.4.0...v0.5.0).

---

**Upgrade today and enjoy powerful new organizational tools!** üìö

Visit our [GitHub repository](https://github.com/masonfox/tome) for questions and support.
