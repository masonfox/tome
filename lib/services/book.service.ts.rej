--- lib/services/book.service.ts
+++ lib/services/book.service.ts
@@ -144,8 +144,10 @@ class BookService {
     // NOTE: better-sqlite3 requires synchronous transaction callbacks (no async/await)
     // Bun's sqlite supports async, but Drizzle handles the difference
     try {
-      return db.transaction((tx) => {
+      console.log('[DEBUG] Starting transaction for bookId:', bookId, 'totalPages:', totalPages);
+      const result = db.transaction((tx) => {
         // 1. Update book's totalPages using repository method with transaction
+        console.log('[DEBUG] Inside transaction callback');
         const updated = bookRepository.updateTotalPagesWithRecalculation(
           bookId,
           totalPages,
@@ -167,7 +169,10 @@ class BookService {
         }, "[BookService] Updated total pages and recalculated progress");
 
         return updated;
       });
+      console.log('[DEBUG] Transaction completed');
+      return result;
     } catch (error) {
+      console.error('[DEBUG] Transaction error:', error);
       const { getLogger } = await import("@/lib/logger");
       getLogger().error({ err: error, bookId }, "[BookService] Failed to update total pages");
